<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>SM分析ツール</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- ★ 追加：Kosugi Maru -->
  <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</head>
<body>
  <div class="app">

    <!-- Page 1: Home -->
    <div id="page-home" class="page active">

      <div class="card">
        <div class="badge">性格診断ゲーム</div>
        <div class="title-main">SM分析ツール</div>
        <div class="title-sub">あなたの「S度」と「M度」をゆるっと診断します</div>
      </div>

      <div class="card">
        <h2>診断をはじめる</h2>
        <p>名前を入力して「開始」を押すと、全10問の診断が始まります。</p>

        <div class="input-row">
          <input id="input-name" class="input-text" type="text" placeholder="名前を入力（ニックネームでもOK）">
          <button id="btn-start" class="btn">開始</button>
        </div>

        <p class="small-note">※結果はこの端末の中だけに保存されます。</p>
      </div>
      
      <div class="card" id="latest-result-card" style="display:none;">
        <h2>あなたの最新結果</h2>
        <div id="latest-result-content"></div>
      </div>

      <div class="card">
        <h2>ランキング</h2>
        <p class="note">この端末で診断した結果が自動で記録されます。</p>

        <div class="ranking-container">
          <div class="ranking-block">
            <h3 class="rank-title-s">ドSランキング</h3>
            <div id="s-ranking" class="ranking-list">
              <p class="ranking-empty">まだ診断結果がありません</p>
            </div>
          </div>

          <div class="ranking-block">
            <h3 class="rank-title-m">ドMランキング</h3>
            <div id="m-ranking" class="ranking-list">
              <p class="ranking-empty">まだ診断結果がありません</p>
            </div>
          </div>
        </div>

        <button id="btn-clear-history" class="btn-ghost btn full">履歴を削除する</button>
      </div>

      <div class="card">
        <button id="btn-to-type-info" class="btn-ghost btn full">
          タイプ一覧を見る
        </button>
      </div>

    </div>

    <!-- Page 2: Quiz -->
    <div id="page-quiz" class="page">

      <div class="card">
        <div class="question-header">
          <span id="quiz-counter">Q1 / 10</span>
          <span id="quiz-name-label"></span>
        </div>

        <div class="progress-bar">
          <div id="quiz-progress" class="progress-inner"></div>
        </div>

        <div id="quiz-question" class="question-text"></div>

        <!-- ラベル（左右ランダム） -->
        <div class="label-row">
          <div class="label-col label-col-left">
            <span id="label-left" class="label-text"></span>
          </div>
          <div class="label-col label-col-right">
            <span id="label-right" class="label-text"></span>
          </div>
        </div>

        <!-- ★ 追加：中央の薄い縦線用 -->
        <div class="label-divider"></div>

        <!-- 丸ボタン（大・中・小） -->
        <div class="circle-row">
          <div class="circle big" data-value="0"></div>
          <div class="circle mid" data-value="1"></div>
          <div class="circle small" data-value="2"></div>
          <div class="circle mid" data-value="3"></div>
          <div class="circle big" data-value="4"></div>
        </div>

        <p class="small-note">丸をタップすると次の質問へ進みます。</p>
      </div>

      <div class="card">
        <button id="btn-back-home" class="btn-ghost btn full">ホームに戻る</button>
      </div>

    </div>

    <!-- Page 3: Result -->
    <div id="page-result" class="page">

      <div class="card">
        <img id="result-stamp" class="result-stamp" src="assets/images/stamp/stamp.png" alt="">
        <div class="badge">診断結果</div>

        <div id="result-name" class="result-name"></div>

        <!-- ★ 変更：テキストバッジ → 画像バッジ -->
        <img id="result-badge-img" class="result-badge-img" src="" alt="タイプバッジ">

        <div id="result-comment" class="result-comment"></div>
        <div id="result-desc" class="result-desc"></div>

        <div class="bar-wrap">
          <div id="label-S" class="bar-label">S度 0%</div>
          <div class="bar-bg"><div id="bar-S" class="bar-inner-S"></div></div>
        </div>

        <div class="bar-wrap">
          <div id="label-M" class="bar-label">M度 0%</div>
          <div class="bar-bg"><div id="bar-M" class="bar-inner-M"></div></div>
        </div>

        <p class="small-note">※この結果はあくまでネタ診断です。深く考えず楽しんでください。</p>
      </div>
      <div class="card">
        <button id="btn-again" class="btn btn-secondary full">もう一度診断する</button>
        <button id="btn-to-home" class="btn-ghost btn full">ホームに戻る</button>
        <button id="btn-save-image" class="btn full" style="margin-top: 8px; background:#444;">
          結果を画像として保存
        </button>
        <button id="btn-share-line" class="btn full" style="margin-top: 8px; background: #06C755;">
          LINEで結果をシェア
        </button>
      </div>

    </div>

    <!-- Page 4: Type Info -->
    <div id="page-type-info" class="page">

      <div class="card">
        <button id="btn-type-back" class="btn-ghost btn full">戻る</button>
      </div>

      <div class="card">
        <h2>タイプ一覧</h2>
        <p class="note">各タイプの特徴をまとめました。</p>
      </div>

      <div id="type-info-list">
        <!-- JSで自動生成 -->
      </div>

    </div>

  </div>

  <script src="script.js"></script>
</body>
</html>
